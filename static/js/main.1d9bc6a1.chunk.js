(this["webpackJsonpzamma-zamba"]=this["webpackJsonpzamma-zamba"]||[]).push([[0],{36:function(e,a,t){e.exports=t.p+"static/media/logo.ee7cd8ed.svg"},37:function(e,a,t){e.exports=t(62)},61:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(17),o=t.n(c),l=t(14),i=t(33),s=t(4),d=t(5),m=t(9),u=t(6),p=t(2),b=t.n(p),g=t(7),f=t(28),E=t.n(f),y=t(22),N=t.n(y);t(58),t(59),t(60);N.a.initializeApp({apiKey:"AIzaSyDHjChfDmIwjL11Qp_sO0YTfEoF9RI4rVE",authDomain:"zamma-zamba.firebaseapp.com",databaseURL:"https://zamma-zamba.firebaseio.com",projectId:"zamma-zamba",storageBucket:"zamma-zamba.appspot.com",messagingSenderId:"386604851771",appId:"1:386604851771:web:803e9804f62c33076eb21e",measurementId:"G-DH3K29LN5Z"});var h=N.a.firestore,v=N.a.storage,x=N.a.auth,_=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(g.a)(b.a.mark((function r(n){var c,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=h().collection("businesses").doc(e),r.next=3,c.get().then((function(e){if(e.exists){if(a){var t=e.data().Email;n(O(t,!0))}return e.data()}return!1})).catch((function(e){return console.log(e)}));case 3:o=r.sent,n(t?{type:"FETCH_CURRENT_USER",payload:o}:{type:"FETCH_SELECTED_BUSINESS",payload:o});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},O=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var t=Object(g.a)(b.a.mark((function t(r){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h().collectionGroup("exp").where("Partner","==",e).get();case 2:n=t.sent,c=[],n.docs.forEach((function(e){c.push(Object(u.a)({id:e.id},e.data()))})),r(a?{type:"FETCH_BUSINESS_PARTNERS_EXPERIENCES",payload:c}:{type:"FETCH_PARTNERS_EXPERIENCES",payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){return{type:"GET_DOWNLOAD_URL",payload:null}},S=function(e,a){return function(){var t=Object(g.a)(b.a.mark((function t(r){var n,c,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e[0],c=v().ref("".concat(a,"/").concat(n.name)),(o=c.put(n)).on("state_changed",(function(e){var a=parseInt(e.bytesTransferred/e.totalBytes*100);console.log("Upload is "+a+"% done from action"),r({type:"UPLOAD_PROGRESS",payload:a})}),(function(e){r({type:"UPLOAD_ERROR",payload:e})}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){r({type:"GET_DOWNLOAD_URL",payload:e}),console.log("File available at",e)}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().collection("availableProducts").orderBy("createdAt").onSnapshot((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.sourceProductId=e.id,t.push(a)})),a({type:"FETCH_PRODUCTS",payload:t})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()};function j(e){var a=Object(s.b)();return n.a.createElement("button",{className:e.className,onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().signOut().then((function(e){a({type:"SIGN_OUT"})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},"Sign out ",n.a.createElement("i",{className:"ion-ios-log-out ml-2"}))}var C=t(13);function T(e){var a=Object(C.a)({mode:"onBlur"}),t=a.register,r=a.handleSubmit,c=a.errors;return n.a.createElement("form",{className:"mt-4 flex-col",onSubmit:r((function(a){e.onLoginSubmit(a)}))},n.a.createElement("input",{className:"block mt-4 border-2 border-solid border-gray-200 p-2",type:"text",placeholder:"Email",name:"email",ref:t({required:!0,pattern:/^\S+@\S+$/i})}),n.a.createElement("div",{className:" text-xs text-red-500 italic"},e.signInErr?"".concat(e.signInErr.message):null),n.a.createElement("p",{className:"text-red-600 text-xs italic"},c.email?"Email is required":null," "),n.a.createElement("input",{className:"block mt-4 border-2 border-solid border-gray-200  p-2",type:"password",placeholder:"Password",name:"password",ref:t({required:!0})}),n.a.createElement("p",{className:"text-red-600 text-xs italic"},c.password?"Password is required":null," "),n.a.createElement("input",{className:"cursor-pointer bg-indigo-300 border border-solid border-indigo-500 mt-4 px-4 py-1 rounded-lg hover:bg-indigo-400",type:"submit",value:"Sign in"}))}function P(){var e=Object(d.d)(),a=Object(s.c)((function(e){return e})),t=a.auth.isSignedIn,r=a.errors,c=a.loader,o=Object(s.b)(),l=function(e){o(function(e){var a=e.email,t=e.password;return function(){var e=Object(g.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().signInWithEmailAndPassword(a,t).then((function(e){r({type:"SIGN_IN",payload:e.user})})).catch((function(e){r({type:"SIGN_IN_ERROR",payload:e})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}(e))};return n.a.createElement("div",null,function(a){switch(a){case!0:e("/products");break;case!1:return c?n.a.createElement("div",{className:"bg-gray-500 inilne-block h-screen -mt-10 flex justify-center items-center text-white cursor-wait"},n.a.createElement("h1",{className:"font-bold"},"Loading... Please wait...")):n.a.createElement("div",null,n.a.createElement("div",{className:"flex sm:justify-around items-center flex-col sm:items-start sm:flex-row"},n.a.createElement("div",{className:"sm:w-1/4 sm:mt-0 mt-10"},n.a.createElement("h2",null,"Login to your account"),n.a.createElement(T,{signInErr:r.signInError,onLoginSubmit:l}))));default:return n.a.createElement("div",{className:"bg-gray-500 inilne-block h-screen flex justify-center items-center text-white cursor-wait"},n.a.createElement("h1",{className:"font-bold"},"Loading... Please wait..."))}}(t))}var R=t(8);function I(e){var a=Object(r.useState)(""),t=Object(R.a)(a,2),c=t[0],o=t[1];return 100===e.percentage&&setTimeout((function(){o("hidden")}),1500),n.a.createElement("div",{className:"bg-gray-300 w-full text-center text-white font-semibold rounded ".concat(e.show," ").concat(c)},n.a.createElement("div",{className:"bg-green-400",style:{height:"24px",width:"".concat(e.percentage,"%")}},100===e.percentage?"File uploaded successfully":"".concat(e.percentage,"%")))}var B=Object(r.forwardRef)((function(e,a){var t=Object(r.useState)(!1),c=Object(R.a)(t,2),l=c[0],i=c[1],s=Object(r.useState)(""),d=Object(R.a)(s,2),m=d[0],u=d[1],p=Object(r.useState)(""),b=Object(R.a)(p,2),g=b[0],f=b[1];return Object(r.useImperativeHandle)(a,(function(){return{open:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-11/12 overflow-y-scroll";i(!0),u(e),f(a)},close:function(){i(!1)}}})),l?o.a.createPortal(n.a.createElement("div",{className:"fixed top-0 bottom-0 right-0 left-0 z-20",style:{backgroundColor:"rgb(0,0,0,0.3)"}},n.a.createElement("div",{className:"fixed top-0 bottom-0 right-0 left-0"},n.a.createElement("div",{style:{top:"50%",left:"50%",maxHeight:"88%"},className:"relative bg-white min-h-[25%] max-h-[75%]   transform -translate-x-1/2 -translate-y-1/2 ".concat(g)},m))),document.querySelector("#modal")):null}));function U(e){var a=e.edit,t=void 0!==a&&a,c=e.product,o=e.closeM,l=Object(s.b)();Object(r.useEffect)((function(){l(k())}),[l]);var i=Object(C.a)({mode:"onBlur",defaultValues:t?(console.log(c),c):{}}),p=i.register,f=i.handleSubmit,y=(i.errors,i.watch),N=i.setValue,v=i.formState.isValid,x=Object(r.useState)(!0),_=Object(R.a)(x,2),O=_[0],j=_[1],T=Object(r.useState)(!1),P=Object(R.a)(T,2),B=(P[0],P[1],Object(r.useState)({msg:"",product:""})),U=Object(R.a)(B,2),L=U[0],A=U[1],F=Object(r.useState)({categories:[{__typename:"ProductCategoryType",id:"1",name:"\u062a\u063a\u062f\u064a\u0629",frName:"Alimentation"},{__typename:"ProductCategoryType",id:"2",name:"\u062a\u063a\u062f\u064a\u0629 \u0627\u0644\u062d\u064a\u0648\u0646\u0627\u062a",frName:""},{__typename:"ProductCategoryType",id:"3",name:"\u062a\u062c\u0645\u064a\u0644/\u0646\u0638\u0627\u0641\u0629 \u0634\u062e\u0635\u064a\u0629",frName:""},{__typename:"ProductCategoryType",id:"4",name:"\u0644\u0648\u0627\u0632\u0645 \u0627\u0644\u0645\u0637\u0628\u062e",frName:"Ustensil de Cuisine"},{__typename:"ProductCategoryType",id:"5",name:"\u062e\u062f\u0645\u0627\u062a",frName:"Service"},{__typename:"ProductCategoryType",id:"6",name:"\u0645\u0648\u0627\u062f \u0627\u0644\u062a\u0646\u0638\u064a\u0641",frName:"Nettoyage"},{__typename:"ProductCategoryType",id:"7",name:"\u0635\u064a\u0627\u0646\u0629 \u0648 \u0625\u0635\u0644\u0627\u062d",frName:"Bricolage / r\xe9paration"},{__typename:"ProductCategoryType",id:"8",name:"\u0633\u0642\u0627\u0637\u0629",frName:"BonBon et biscuits"},{__typename:"ProductCategoryType",id:"9",name:"\u0644\u0648\u0627\u0632\u0645 \u0627\u0644\u062d\u0644\u0648\u064a\u0627\u062a",frName:"P\xe2tisserie"}],packageName:[{__typename:"BigPackageNameType",id:1,name:"\u0643\u0627\u0631\u0637",frName:"Carte"},{__typename:"BigPackageNameType",id:2,name:"\u062e\u0646\u0634\u0629",frName:"Sac"},{__typename:"BigPackageNameType",id:3,name:"\u0642\u0631\u0639\u0629",frName:"Bouteille"},{__typename:"BigPackageNameType",id:4,name:"\u0628\u0627\u0643\u064a\u0629",frName:"Packet"},{__typename:"BigPackageNameType",id:6,name:"\u0633\u0627\u0634\u064a",frName:"Sachet"},{__typename:"BigPackageNameType",id:7,name:"\u0643\u0631\u0637\u0648\u0646\u0629/\u0635\u0646\u062f\u0648\u0642",frName:"Caisse"},{__typename:"BigPackageNameType",id:8,name:"\u062d\u0643",frName:"Boite"},{__typename:"BigPackageNameType",id:9,name:"\u0639\u0644\u0628\u0629",frName:"Boite"},{__typename:"BigPackageNameType",id:10,name:"\u0628\u0648\u0627\u0637\u0629",frName:"Boite"},{__typename:"BigPackageNameType",id:11,name:"\u0648\u062d\u062f\u0629",frName:"Unit\xe9"},{__typename:"BigPackageNameType",id:12,name:"\u0628\u064a\u062f\u0648",frName:"Bidon"},{__typename:"BigPackageNameType",id:13,name:"\u0643\u064a\u0644\u0648",frName:"Kilogramme"},{__typename:"BigPackageNameType",id:14,name:"\u0645\u062a\u0631",frName:"M\xe8tre"},{__typename:"BigPackageNameType",id:15,name:"\u063a\u0631\u0627\u0645",frName:"Gramme"},{__typename:"BigPackageNameType",id:16,name:"\u0633\u0646\u062a\u064a\u0645\u062a\u0631",frName:"Centim\xe8tre"},{__typename:"BigPackageNameType",id:17,name:"\u0644\u064a\u062a\u0631",frName:"Litre"},{__typename:"BigPackageNameType",id:18,name:"\u0633\u0646\u062a\u064a\u0644\u064a\u062a\u0631",frName:"Centilitre"},{__typename:"BigPackageNameType",id:19,name:"\u062f\u0631\u0647\u0645",frName:"Dirhams"},{__typename:"BigPackageNameType",id:20,name:"\u0643\u0627\u0646\u064a\u0637 ",frName:"Canette"}],units:[{__typename:"BigPackageNameType",id:0,name:"\u0648\u062d\u062f\u0629",frName:"Unit\xe9",abrev:"x"},{__typename:"BigPackageNameType",id:1,name:"\u0643\u064a\u0644\u0648",frName:"Kilogramme",abrev:"Kg"},{__typename:"BigPackageNameType",id:2,name:"\u0645\u062a\u0631",frName:"M\xe8tre",abrev:"m"},{__typename:"BigPackageNameType",id:3,name:"\u063a\u0631\u0627\u0645",frName:"Gramme",abrev:"g"},{__typename:"BigPackageNameType",id:4,name:"\u0633\u0646\u062a\u064a\u0645\u062a\u0631",frName:"Centim\xe8tre",abrev:"cm"},{__typename:"BigPackageNameType",id:5,name:"\u0644\u064a\u062a\u0631",frName:"Litre",abrev:"L"},{__typename:"BigPackageNameType",id:6,name:"\u0645\u064a\u0644\u064a\u0644\u062a\u0631",frName:"Mililitre",abrev:"ml"},{__typename:"BigPackageNameType",id:7,name:"\u0633\u0646\u062a\u064a\u0644\u064a\u062a\u0631",frName:"Centilitre",abrev:"cl"}]}),D=Object(R.a)(F,2),z=D[0],H=(D[1],Object(s.c)((function(e){return e}))),G=H.uploads.uploadProgress,q=H.uploads.downloadURL,X=H.products.availableProducts;return n.a.createElement("div",{className:"flex justify-around p-10"},n.a.createElement("form",{className:"w-full max-w-lg",onSubmit:f((function(e){var a;t?v?(e.img_src=q||c.img_src,delete e.imgFile,e.sourceProductId=c.sourceProductId,(a=e).createdAt=E.a.firestore.Timestamp.now(),h().collection("availableProducts").doc(a.sourceProductId).update(a),o()):alert("veuillez remplisser le formulaire..."):v?(e.img_src=q,delete e.imgFile,l(function(e){return function(){var a=Object(g.a)(b.a.mark((function a(t,r){var n,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=r().products.availableProducts,c=h().collection("availableProducts"),e.createdAt=E.a.firestore.Timestamp.now(),c.add(e).then((function(){t(w()),console.log("data saved");var a=Object(m.a)(n);a.push(e),t({type:"ADD_PRODUCT",payload:a})})).catch((function(e){console.log(e),t({type:"CREATE_ERROR",payload:e})}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(e)),Object(d.c)("/")):alert("veuillez remplisser le formulaire...")}))},n.a.createElement("button",{style:{top:"5%",right:"5%"},onClick:function(){o()},className:"".concat(t?"block":"hidden","  absolute")},"X"),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"hasBarcodeId"},"Est ce que ce produit a un Code barre ?"),n.a.createElement("input",{id:"hasBarcodeId",className:"w-10",type:"checkbox",name:"hasBarcode",ref:p}),n.a.createElement("p",{className:"text-gray-500 text-xs italic"},"Ne pas cochez si le produit n'a pas de code barre"),n.a.createElement("br",null),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"barcodeId"},"Code barre"),n.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400",id:"barcodeId",type:"number",onChange:function(e){!function(e){var a=X.find((function(a){return String(a.barcode)===String(e)}));A(a?Object(u.a)({},H,{msg:"Ce produit existe d\xe9j\xe0 !!",product:a.img_src}):Object(u.a)({},H,{msg:"",product:""}))}(e.target.value)},name:"barcode",ref:p({required:y("hasBarcode")})}),L.msg&&n.a.createElement("div",{className:"flex justify-between items-center"},n.a.createElement("p",{className:" text-sm italic text-red-600"}," ",L.msg," "),n.a.createElement("img",{className:"w-10",src:L.product,alt:""})),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"nameId"},"Nom du produit en Arabe"),n.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400",id:"nameId",type:"text",placeholder:"\u0625\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0627\u0644\u062d\u0631\u0648\u0641 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",name:"name",ref:p({required:!0})}),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"productNameId"},"Nom du produit en Francais"),n.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400",id:"productNameId",type:"text",name:"frName",ref:p({required:!0})}),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"keywordId"},"Mot cl\xe9 pour rechervher ce produit"),n.a.createElement("textarea",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400 focus:border-gray-500",id:"keywordId",placeholder:" 6 mots cl\xe9s: 3 arabe et 3 francais",name:"keywords",ref:p({required:!0})}),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"BrandNameId"},"Nom de la marque"),n.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400",id:"BrandNameId",type:"text",name:"brand",ref:p({required:!0})}),String(y("brand")).length>0&&n.a.createElement("ul",null,Array.from(new Set(X.map((function(e){return e.brand})))).filter((function(e){return e.toLowerCase().includes(y("brand")?String(y("brand").toLowerCase()):"")})).map((function(e,a){return n.a.createElement("li",{className:"cursor-pointer",key:"".concat(e," ").concat(a),onClick:function(){N("brand",e)}},e)}))),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"contenanceId"},"Taille / poids"),n.a.createElement("div",{className:"flex justify-around appearance-none w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400"},n.a.createElement("select",{name:"unit",ref:p({required:!0})},z.units.map((function(e){return n.a.createElement("option",{key:e.id,value:JSON.stringify(e)}," ",e.name," ")}))),n.a.createElement("input",{dir:"rtl",defaultValue:1,id:"contenanceId",type:"number",step:"0.01",name:"productContenance",ref:p({required:!0})})),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"size"},"Contenance du produit"),n.a.createElement("div",{className:"flex justify-around appearance-none w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400"},n.a.createElement("select",{name:"contentUnit",ref:p({required:!0})},z.units.map((function(e){return n.a.createElement("option",{key:e.id,value:JSON.stringify(e)}," ",e.name," ")}))),n.a.createElement("input",{dir:"rtl",defaultValue:1,id:"size",type:"number",step:"0.01",name:"contentNumber",ref:p({required:!0})})),n.a.createElement("br",null),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"image"},"Image du produit"),n.a.createElement("input",{onChange:function(e){var a;a=e.target.files,j(!1),l(S(a,"products"))},className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-gray-400",id:"image",type:"file",placeholder:"Image du produit",name:"imgFile",ref:p}),n.a.createElement(I,{percentage:G,show:O?"hidden":"block"}),n.a.createElement("div",{className:"".concat(q?"block":"hidden"," cursor-pointer w-10")},n.a.createElement("img",{src:q,alt:"productImage"})),n.a.createElement("br",null),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"categoryId"},"Categorie du produit"),n.a.createElement("select",{className:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",id:"categoryId",name:"category",ref:p({required:!0})},z.categories.map((function(e){return n.a.createElement("option",{key:e.id,value:JSON.stringify(e)}," ",e.name," ")}))),n.a.createElement("br",null),n.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 ".concat(v?"":"border-red-600"),htmlFor:"packageId"},"Unit\xe9 de mesure ou de vente du produit"),n.a.createElement("select",{className:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",id:"packageId",name:"packageName",ref:p({required:!0})},z.packageName.map((function(e){return n.a.createElement("option",{key:e.id,value:JSON.stringify(e)}," ",e.name," ")}))),n.a.createElement("br",null),n.a.createElement("input",{className:"bg-green-300 border border-solid cursor-pointer border-green-500 p-2 rounded-lg hover:text-white hover:bg-green-400",type:"submit",value:"Enregistrer"})))}function L(){var e=Object(s.b)(),a=Object(r.useState)({search:""}),t=Object(R.a)(a,2),c=t[0],o=t[1];Object(r.useEffect)((function(){e(k())}),[e]);var l=Object(s.c)((function(e){return e.products.availableProducts}));console.log(l);var i=Object(r.useRef)(),m=function(e){i.current.open(e)},p=function(){i.current.close()};return n.a.createElement("div",{className:"p-10"},n.a.createElement(B,{ref:i}),n.a.createElement("div",{className:"p-10 flex flex-col"},n.a.createElement("span",{className:"text-center font-medium"},"Filtrer "),n.a.createElement("input",{onChange:function(e){o(Object(u.a)({},c,{search:e.target.value}))},type:"text",className:"w-full  p-2 border-2"})),n.a.createElement("div",{className:"flex justify-end my-3"},n.a.createElement(d.a,{className:"p-2 text-white bg-blue-400",to:"/ajouter"},"Ajouter un produit")),n.a.createElement("div",{className:"flex justify-center"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"border-2 p-1 font-medium border-gray-500"},"N\xb0"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Image"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Code Barre"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Nom Arabe"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Nom Francais"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Marque"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Categorie"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Contenance"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Taille / poids"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Unite de mesure / emballage"),n.a.createElement("td",{className:"border-2 p-2 font-medium border-gray-500"},"Actions"))),n.a.createElement("tbody",null,l.filter((function(e){var a,t;return(null===(a=e.keywords)||void 0===a?void 0:a.toLowerCase().includes(c.search.toLowerCase()))||(null===(t=String(e.barcode))||void 0===t?void 0:t.includes(c.search.toLowerCase()))})).map((function(e,a){return n.a.createElement("tr",{key:"".concat(e.name).concat(e.img_src)},n.a.createElement("td",{className:"border-2 p-1 border-gray-500"},a+1),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},n.a.createElement("img",{onClick:function(){m(n.a.createElement("div",null,n.a.createElement("button",{className:"absolute",style:{top:"5%",right:"5%"},onClick:p},"X"),n.a.createElement("div",{className:"flex justify-center items-center"},n.a.createElement("img",{src:e.img_src,alt:e.name}))))},className:"w-12 cursor-pointer",src:e.img_src,alt:e.name})),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},e.barcode),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},e.name),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},e.frName),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},e.brand),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},JSON.parse(e.category).name),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},n.a.createElement("div",{className:"flex"},n.a.createElement("span",null,JSON.parse(e.contentUnit).name),n.a.createElement("span",null,e.contentNumber))),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},n.a.createElement("div",{className:"flex"},n.a.createElement("span",null,JSON.parse(e.unit).name),n.a.createElement("span",null,e.productContenance))),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},JSON.parse(e.packageName).name),n.a.createElement("td",{className:"border-2 p-2 border-gray-500"},n.a.createElement("button",{onClick:function(){m(n.a.createElement(U,{edit:!0,product:e,closeM:p}))},className:"bg-green-400 text-white p-1 cursor-pointer hover:bg-green-600 rounded-lg "},"Modifier")))}))))))}function A(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e})),t=a.loader,c=(a.businesses.currentUser,Object(r.useState)(1)),o=Object(R.a)(c,2),l=(o[0],o[1],a.experiences.userExperiences,a.experiences.partnersExperiences,a.auth.isSignedIn),i=a.auth.user;Object(r.useEffect)((function(){var a;i&&(e(_(i.uid,!1,!0)),e((a=i.uid,function(){var e=Object(g.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().collection("businesses").doc(a).collection("exp").get();case 2:r=e.sent,n=[],r.docs.forEach((function(e){n.push(Object(u.a)({id:e.id},e.data()))})),t({type:"FETCH_USER_EXPERIENCES",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())),e(O(i.email)))}),[i,e]);return n.a.createElement("div",null,function(){switch(l){case!0:return n.a.createElement(L,null);case!1:return n.a.createElement("div",{className:"flex items-center p-16"},n.a.createElement("h2",null,"Please Login or register a new account to access this page"),n.a.createElement(d.a,{className:"bg-indigo-400 px-4 py-1 text-white ml-4 rounded shadow",to:"/"},"Get Started"));default:if(t)return n.a.createElement("div",{className:"bg-gray-500 inilne-block h-screen flex justify-center items-center text-white cursor-wait"},n.a.createElement("h1",{className:"font-bold"},"Loading... Please wait..."))}}())}function F(){return n.a.createElement("div",null,"404 Not Found")}function D(e){var a=Object(s.c)((function(e){return e.auth})).isSignedIn,t=Object(s.b)();Object(r.useEffect)((function(){t(function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().onAuthStateChanged((function(e){return a(e?{type:"SIGN_IN",payload:e}:{type:"SIGN_OUT"})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[t]);return n.a.createElement("div",null,a?n.a.createElement(j,{className:e.className}):!1===a?n.a.createElement(d.a,{className:e.className,to:"/"},n.a.createElement("i",{className:"mr-1 ion-ios-exit"}),"Login"):void 0)}function z(e){var a=e.navlinks,t=e.background,c=(e.logo,Object(r.useState)(!1)),o=Object(R.a)(c,2),l=o[0],i=o[1];return n.a.createElement("nav",{onMouseLeave:function(){i(!1)},className:"sm:flex sm:justify-between bg-".concat(t,"-400 sm:items-center sm:px-4 sm:py-3")},n.a.createElement("div",{className:"flex items-center justify-between px-4 py-3 sm:p-0"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("i",{className:"mr-1 text-white text-3xl ion-ios-home"}),n.a.createElement(d.a,{to:"/",className:"pl-10 -ml-10 z-10 font-semibold text-xl text-white tracking-tight"},"Home")),n.a.createElement("div",{className:"block sm:hidden"},n.a.createElement("button",{onClick:function(){i(!l)},className:"flex items-center px-1 py-1  rounded text-".concat(t,"-200  hover:text-white ")},n.a.createElement("svg",{className:"h-6 w-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:l?"M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z":"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"}))))),n.a.createElement("div",{className:"".concat(l?"block":"hidden"," px-2 pt-2 pb-4 sm:flex sm:p-0")},a.map((function(e){return n.a.createElement(d.a,{key:e.text,className:"block mt-4 lg:inline-block lg:mt-0 font-semibold hover:bg-".concat(t,"-300 text-").concat(t,"-100 hover:text-white mr-4"),to:e.path},n.a.createElement("i",{className:"mr-1 ".concat(e.icon)}),e.text)}))),n.a.createElement(D,{className:"".concat(l?"inline-block":"hidden"," mt-4 sm:flex lg:inline-block p-2 mb-2 sm:mb-0 lg:mt-0 font-semibold border border-white hover:bg-").concat(t,"-300 text-").concat(t,"-100 hover:text-white mr-4")}))}var H=t(36),G=t.n(H);var q=function(){var e;return Object(r.useEffect)((function(){e=window.location.pathname}),[e]),n.a.createElement("div",null,n.a.createElement(z,{navlinks:[],logo:G.a,background:"indigo",hoverBackground:"indigo-700"}),n.a.createElement(d.b,{className:"min-h-1/2s"},n.a.createElement(U,{path:"/ajouter"}),n.a.createElement(A,{path:"/products"}),n.a.createElement(P,{path:"/"}),n.a.createElement(F,{default:!0})))},X={isSignedIn:null,user:null},M={selectedBusiness:null,businessesList:null,searchedBusiness:null,currentUser:null},J={selectedExperience:null,selectedCategory:null,userExperiences:null,publishedExperiences:null,partnersExperiences:null,selectedBizExpriences:null},V={uploadProgress:0,error:null,downloadURL:null},K={uploadError:null,createError:null,fetchError:null,signInError:null,googleSignInErr:null,signUpError:null},W={paid:!1,transaction_details:null},Y={availableProducts:[]},Z=Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return Object(u.a)({},e,{isSignedIn:!0,user:a.payload});case"SIGN_OUT":return Object(u.a)({},e,{isSignedIn:!1,user:null});default:return e}},businesses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SELECTED_BUSINESS":return Object(u.a)({},e,{selectedBusiness:a.payload});case"FETCH_CURRENT_USER":return Object(u.a)({},e,{currentUser:a.payload});case"COMPLETE_USER_DATA":return Object(u.a)({},e,{selectedBusiness:a.payload});case"FETCH_BUSINESSES":return Object(u.a)({},e,{businessesList:a.payload});case"SEARCH_BUSINESS_OWNER":return Object(u.a)({},e,{searchedBusiness:a.payload});case"CATEGORY_SELECTED":return Object(u.a)({},e,{selectedCategory:a.payload});default:return e}},experiences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_EXPERIENCE":return Object(u.a)({},e,{selectedExperience:a.payload});case"FETCH_SELECTED_BIZ_EXPERIENCES":return Object(u.a)({},e,{selectedBizExpriences:a.payload});case"CATEGORY_SELECTED":return Object(u.a)({},e,{selectedCategory:a.payload});case"FETCH_USER_EXPERIENCES":return Object(u.a)({},e,{userExperiences:a.payload});case"CREATE_EXPERIENCE":return Object(u.a)({},e);case"FETCH_PUBLISHED_EXPERIENCES":return Object(u.a)({},e,{publishedExperiences:a.payload});case"FETCH_PARTNERS_EXPERIENCES":return Object(u.a)({},e,{partnersExperiences:a.payload});case"FETCH_BUSINESS_PARTNERS_EXPERIENCES":return Object(u.a)({},e,{businessPartExperiences:a.payload});default:return e}},uploads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPLOAD_PROGRESS":return Object(u.a)({},e,{uploadProgress:a.payload});case"UPLOAD_ERROR":return Object(u.a)({},e,{error:a.payload});case"GET_DOWNLOAD_URL":return Object(u.a)({},e,{downloadURL:a.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPLOAD_ERROR":return Object(u.a)({},e,{uploadError:a.payload});case"CREATE_ERROR":return Object(u.a)({},e,{createError:a.payload});case"FETCH_ERROR":return Object(u.a)({},e,{fetchError:a.payload});case"SIGN_IN_ERROR":return Object(u.a)({},e,{signInError:a.payload});case"SIGN_UP_ERROR":return Object(u.a)({},e,{signUpError:a.payload});case"GOOGLE_SIGNIN_ERROR":return Object(u.a)({},e,{googleSignInErr:a.payload});default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOADER":return a.payload;default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TRANSACTION_SUCCESS":return Object(u.a)({},e,{paid:!0,transaction_details:a.payload});case"TRANSACTION_FAILED":return Object(u.a)({},e,{paid:!1,error:a.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PRODUCT":case"EDIT_PRODUCT":return Object(u.a)({},e);case"FETCH_PRODUCTS":return Object(u.a)({},e,{availableProducts:a.payload});default:return e}}}),Q=(t(61),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d),$=Object(l.e)(Z,Q(Object(l.a)(i.a)));o.a.render(n.a.createElement(s.a,{store:$},n.a.createElement(q,null)),document.querySelector("#root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.1d9bc6a1.chunk.js.map